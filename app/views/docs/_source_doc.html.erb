<tr>
  <td><%= source_doc.sourcedb -%></td>
	<td><%= source_doc.sourceid -%></td>
	<td><%= source_doc.body[0...100] -%></td>
	<td style="text-align:right">
    <% if source_doc.has_divs? -%>
      <%= link_to source_doc.projects_count, doc_sourcedb_sourceid_divs_index_path(source_doc.sourcedb, source_doc.sourceid) -%>
    <% else -%>
      <%= link_to source_doc.projects_count, doc_sourcedb_sourceid_show_path(source_doc.sourcedb, source_doc.sourceid) -%>
    <% end -%>
  </td>
  <td style="text-align:right"><%= annotations_count_helper(@project, source_doc) -%></td>
  <td >
    <span class="button">
      <% if  params[:project_id].present? -%>
        <% if source_doc.has_divs? -%>
          <%= link_to t('views.shared.show'), index_project_sourcedb_sourceid_divs_docs_path(params[:project_id], source_doc.sourcedb, source_doc.sourceid) -%>
        <% else -%>
          <%= link_to t('views.shared.show'), show_project_sourcedb_sourceid_docs_path(params[:project_id], source_doc.sourcedb, source_doc.sourceid) -%>
        <% end -%>
      <% else -%>
        <% if source_doc.has_divs? -%>
          <%= link_to t('views.shared.show'), doc_sourcedb_sourceid_divs_index_path(source_doc.sourcedb, source_doc.sourceid) -%>
        <% else -%>
          <%= link_to t('views.shared.show'), doc_sourcedb_sourceid_show_path(source_doc.sourcedb, source_doc.sourceid) -%>
        <% end -%>
      <% end -%>
    </span>
  </td>
  <% if @project.present? && user_signed_in? && @project.user == current_user %>
    <td>
        <%= link_to t('views.shared.delete'), delete_project_sourcedb_sourceid_docs_path(params[:project_id], source_doc.sourcedb, source_doc.sourceid), method: 'delete', confirm: t('controllers.shared.confirm_delete'), class: 'button' -%>
    </td>
  <% end %>
</tr>
